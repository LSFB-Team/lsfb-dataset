<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Datasets - LSFB Dataset</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="../assets/_mkdocstrings.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Datasets";
        var mkdocs_page_input_path = "datasets.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> LSFB Dataset
        </a>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../howto/">How To</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../lsfb_isol/">LSFB Isol</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../lsfb_cont/">LSFB Cont</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="./">Datasets</a>
    <ul class="current">
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../visualisation/">Visualisation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../download/">Download Datasets</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">LSFB Dataset</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" alt="Docs"></a> &raquo;</li>
      <li>Datasets</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <div class="doc doc-object doc-module">


<a id="lsfb_dataset.datasets"></a>
  <div class="doc doc-contents first">
  
      <h2 id="lsfb_dataset.datasets--module-datasets">Module Datasets</h2>
<p>This module provides configurations classes and iterators for the lsfb_iso and lsfb_cont dataset.
The module is organised in two submodules : One for the continuous dataset and one for the isolated one.</p>

  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-module">


<a id="lsfb_dataset.datasets.lsfb_cont"></a>
  <div class="doc doc-contents first">
  
      <h3 id="lsfb_dataset.datasets.lsfb_cont--lsfb_cont">lsfb_cont</h3>
<p>This module contains classes helping to manipulate the lsfb_cont dataset. The provided classes are :</p>
<ul>
<li><strong>LSFBContConfig</strong> : <a href="https://docs.python.org/3/library/dataclasses.html">dataclass</a> allowing to configure how the dataset will be loaded</li>
<li><strong>LSFBContLandmarks</strong> : Iterator class loading the lsfb_cont landmarks according to the configuration provided.</li>
<li><strong>LSFBContLandmarksGenerator</strong> : Generator class loading the lsfb_cont landmarks according to the configuration provided.</li>
</ul>

  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-module">


<a id="lsfb_dataset.datasets.lsfb_cont.config"></a>
  <div class="doc doc-contents first">

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="lsfb_dataset.datasets.lsfb_cont.config.LSFBContConfig" class="doc doc-heading">
        <code>LSFBContConfig</code>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h2>


  <div class="doc doc-contents ">

  
      <p>Simple configuration class for the LSFB_CONT Dataset.</p>
<p>LSFB: French Belgian Sign Language
CONT: Continuous videos in LSFB</p>
<p>See: LSFBContLandmarks</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>root</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Root directory of the LSFB_CONT dataset.
The dataset must already be downloaded !</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>landmarks</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[str]]</code>
          </td>
          <td><p>Select which landmarks (features) to use.
'pose' for pose skeleton (23 landmarks);
'hand_left' for left hand skeleton (21 landmarks);
'hand_right' for right hand skeleton (21 landmarks);
Default = ['pose', 'hand_left', 'hand_right'].</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>features_transform</code></td>
          <td>
                <code><span title="typing.Callable">Callable</span></code>
          </td>
          <td><p>Callable object used to transform the features.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>target_transform</code></td>
          <td>
                <code><span title="typing.Callable">Callable</span></code>
          </td>
          <td><p>Callable object used to transform the targets.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>transform</code></td>
          <td>
                <code><span title="typing.Callable">Callable</span></code>
          </td>
          <td><p>Callable object used to transform both the features and the targets.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>split</code></td>
          <td>
                <code><span title="lsfb_dataset.datasets.types.DataSubset">DataSubset</span></code>
          </td>
          <td><p>Specify which subset of the dataset is used.
'train' for training set;
'test' for the test set;
'all' for all the instances of the dataset;
'mini_sample' for a tiny set of instances.
Default = 'all'.</p></td>
          <td>
                <code>&#39;all&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>hands</code></td>
          <td>
                <code><span title="lsfb_dataset.datasets.types.Hand">Hand</span></code>
          </td>
          <td><p>Specify which hands are targeted in the segmentation.
'right' for the signs from the right hand of the signer;
'left' for the signs from the left hand of the signer;
'both' for the signs from both hands of the signer.
Default = 'both'.</p></td>
          <td>
                <code>&#39;both&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>target</code></td>
          <td>
                <code><span title="lsfb_dataset.datasets.types.Target">Target</span></code>
          </td>
          <td><p>Specify the kind of segmentation used as a target.
'signs' for the labels waiting and signing only.
'signs_and_transitions' for the labels waiting, signing and coarticulation.
'activity' for the labels waiting and signing,
    where intermediate movements are labelled as signing and not waiting anymore.
Default = 'signs'.</p></td>
          <td>
                <code>&#39;signs&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>window</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.Tuple">Tuple</span>[int, int]]</code>
          </td>
          <td><p>Optional argument (window_size, window_stride) to use fixed-size windows instead of
variable length sequences.
If specified, the dataset is windowed with a window size and a window stride.
Be careful, this argument changes the number of instances in the dataset !
Default = None.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>return_mask</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>If true, return a mask in addition to the features and the target for each instance.
The mask is filled with 1's and 0's where the padding has been applied.
Default = False.</p></td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>mask_transform</code></td>
          <td>
                <code><span title="typing.Callable">Callable</span></code>
          </td>
          <td><p>Callable object used to transform the masks.
You need to set return_mask to <code>True</code> to use this transform !</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>video_list_file</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>The filepath of the video list CSV file.
This filepath is relative to the root of the dataset.</p></td>
          <td>
                <code>&#39;videos.csv&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>targets_dir</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>The path of the directory that contains the target vectors.
This filepath is relative to the root of the dataset.</p></td>
          <td>
                <code>&#39;annotations/vectors&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>show_progress</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>If true, shows a progress bar while the dataset is loading.</p></td>
          <td>
                <code>True</code>
          </td>
        </tr>
    </tbody>
  </table>
      <p>Author: ppoitier</p>


        <details class="quote">
          <summary>Source code in <code>lsfb_dataset/datasets/lsfb_cont/config.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span>
<span class="normal">97</span>
<span class="normal">98</span>
<span class="normal">99</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">LSFBContConfig</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Simple configuration class for the LSFB_CONT Dataset.</span>

<span class="sd">    LSFB: French Belgian Sign Language</span>
<span class="sd">    CONT: Continuous videos in LSFB</span>

<span class="sd">    See: LSFBContLandmarks</span>

<span class="sd">    Args:</span>
<span class="sd">        root: Root directory of the LSFB_CONT dataset.</span>
<span class="sd">            The dataset must already be downloaded !</span>
<span class="sd">        landmarks: Select which landmarks (features) to use.</span>
<span class="sd">            &#39;pose&#39; for pose skeleton (23 landmarks);</span>
<span class="sd">            &#39;hand_left&#39; for left hand skeleton (21 landmarks);</span>
<span class="sd">            &#39;hand_right&#39; for right hand skeleton (21 landmarks);</span>
<span class="sd">            Default = [&#39;pose&#39;, &#39;hand_left&#39;, &#39;hand_right&#39;].</span>

<span class="sd">        features_transform: Callable object used to transform the features.</span>
<span class="sd">        target_transform: Callable object used to transform the targets.</span>
<span class="sd">        transform: Callable object used to transform both the features and the targets.</span>

<span class="sd">        split: Specify which subset of the dataset is used.</span>
<span class="sd">            &#39;train&#39; for training set;</span>
<span class="sd">            &#39;test&#39; for the test set;</span>
<span class="sd">            &#39;all&#39; for all the instances of the dataset;</span>
<span class="sd">            &#39;mini_sample&#39; for a tiny set of instances.</span>
<span class="sd">            Default = &#39;all&#39;.</span>
<span class="sd">        hands: Specify which hands are targeted in the segmentation.</span>
<span class="sd">            &#39;right&#39; for the signs from the right hand of the signer;</span>
<span class="sd">            &#39;left&#39; for the signs from the left hand of the signer;</span>
<span class="sd">            &#39;both&#39; for the signs from both hands of the signer.</span>
<span class="sd">            Default = &#39;both&#39;.</span>
<span class="sd">        target: Specify the kind of segmentation used as a target.</span>
<span class="sd">            &#39;signs&#39; for the labels waiting and signing only.</span>
<span class="sd">            &#39;signs_and_transitions&#39; for the labels waiting, signing and coarticulation.</span>
<span class="sd">            &#39;activity&#39; for the labels waiting and signing,</span>
<span class="sd">                where intermediate movements are labelled as signing and not waiting anymore.</span>
<span class="sd">            Default = &#39;signs&#39;.</span>

<span class="sd">        window: Optional argument (window_size, window_stride) to use fixed-size windows instead of</span>
<span class="sd">            variable length sequences.</span>
<span class="sd">            If specified, the dataset is windowed with a window size and a window stride.</span>
<span class="sd">            Be careful, this argument changes the number of instances in the dataset !</span>
<span class="sd">            Default = None.</span>
<span class="sd">        return_mask: If true, return a mask in addition to the features and the target for each instance.</span>
<span class="sd">            The mask is filled with 1&#39;s and 0&#39;s where the padding has been applied.</span>
<span class="sd">            Default = False.</span>
<span class="sd">        mask_transform: Callable object used to transform the masks.</span>
<span class="sd">            You need to set return_mask to `True` to use this transform !</span>

<span class="sd">        video_list_file: The filepath of the video list CSV file.</span>
<span class="sd">            This filepath is relative to the root of the dataset.</span>
<span class="sd">        targets_dir: The path of the directory that contains the target vectors.</span>
<span class="sd">            This filepath is relative to the root of the dataset.</span>

<span class="sd">        show_progress: If true, shows a progress bar while the dataset is loading.</span>

<span class="sd">    Author: ppoitier</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">root</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">landmarks</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">features_transform</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">target_transform</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">transform</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">split</span><span class="p">:</span> <span class="n">DataSubset</span> <span class="o">=</span> <span class="s1">&#39;all&#39;</span>
    <span class="n">hands</span><span class="p">:</span> <span class="n">Hand</span> <span class="o">=</span> <span class="s1">&#39;both&#39;</span>
    <span class="n">target</span><span class="p">:</span> <span class="n">Target</span> <span class="o">=</span> <span class="s1">&#39;signs&#39;</span>

    <span class="n">window</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">return_mask</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">mask_transform</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">video_list_file</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;videos.csv&#39;</span>
    <span class="n">targets_dir</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;annotations/vectors&#39;</span>
    <span class="n">show_progress</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">landmarks</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">landmarks</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;pose&#39;</span><span class="p">,</span> <span class="s1">&#39;hand_left&#39;</span><span class="p">,</span> <span class="s1">&#39;hand_right&#39;</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">video_list_file</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">video_list_file</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">targets_dir</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">targets_dir</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">validate</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">mask_transform</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">return_mask</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Mask transform is defined, but the mask is not returned.&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">











  </div>

  </div>

</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">


<a id="lsfb_dataset.datasets.lsfb_cont.landmarks"></a>
  <div class="doc doc-contents first">

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="lsfb_dataset.datasets.lsfb_cont.landmarks.LSFBContLandmarks" class="doc doc-heading">
        <code>LSFBContLandmarks</code>


</h2>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><span title="lsfb_dataset.datasets.lsfb_cont.base.LSFBContBase">LSFBContBase</span></code></p>

  
      <p>Utility class to load the LSFB CONT Landmarks dataset.
The dataset must be already downloaded!</p>
<p>All the landmarks and targets are loaded into memory (RAM) to maximise the efficiency of the training.
If you don't have enough RAM (between 8GB and 16GB) and don't want to load all of them in memory,
use the LSFBContLandmarksGenerator class instead.</p>

<details class="properties">
  <summary>Properties</summary>
  <p>features: The list of landmarks for each instance of the dataset
    For each instance i, (L,D) were
        L is the length of the sequence
        D is the number of features depending on the landmarks selected in the configuration
targets: The list of target segmentations for each instance of the dataset</p>
<p>labels: The targeted labels in the dataset. Example: waiting, signing and coarticulation.
    The labels depend on the targeted segmentation.
label_frequencies: The frequency of each label used in the dataset.
    The labels depend on the targeted segmentation.</p>
<p>windows: List of every window in the dataset
    (instance_index, window_start, window_end, padding)
    This list only contains windows if the <code>window</code> configuration is set!</p>
</details>
  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>config</code></td>
          <td>
          </td>
          <td><p>The configuration object (see LSFBContConfig).
If config is not specified, every needed configuration argument must be manually provided.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>
      <p>Author: ppoitier</p>


        <details class="quote">
          <summary>Source code in <code>lsfb_dataset/datasets/lsfb_cont/landmarks.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">LSFBContLandmarks</span><span class="p">(</span><span class="n">LSFBContBase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Utility class to load the LSFB CONT Landmarks dataset.</span>
<span class="sd">    The dataset must be already downloaded!</span>

<span class="sd">    All the landmarks and targets are loaded into memory (RAM) to maximise the efficiency of the training.</span>
<span class="sd">    If you don&#39;t have enough RAM (between 8GB and 16GB) and don&#39;t want to load all of them in memory,</span>
<span class="sd">    use the LSFBContLandmarksGenerator class instead.</span>

<span class="sd">    Properties:</span>
<span class="sd">        features: The list of landmarks for each instance of the dataset</span>
<span class="sd">            For each instance i, (L,D) were</span>
<span class="sd">                L is the length of the sequence</span>
<span class="sd">                D is the number of features depending on the landmarks selected in the configuration</span>
<span class="sd">        targets: The list of target segmentations for each instance of the dataset</span>

<span class="sd">        labels: The targeted labels in the dataset. Example: waiting, signing and coarticulation.</span>
<span class="sd">            The labels depend on the targeted segmentation.</span>
<span class="sd">        label_frequencies: The frequency of each label used in the dataset.</span>
<span class="sd">            The labels depend on the targeted segmentation.</span>

<span class="sd">        windows: List of every window in the dataset</span>
<span class="sd">            (instance_index, window_start, window_end, padding)</span>
<span class="sd">            This list only contains windows if the `window` configuration is set!</span>

<span class="sd">    Args:</span>
<span class="sd">        config: The configuration object (see LSFBContConfig).</span>
<span class="sd">            If config is not specified, every needed configuration argument must be manually provided.</span>

<span class="sd">    Author: ppoitier</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">LSFBContLandmarks</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">features</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_load_features</span><span class="p">()</span>

        <span class="c1"># (video_index, window_start, window_end, padding)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">windows</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">window</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_build_windows</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">window</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">windows</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">features</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="n">features_transform</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">features_transform</span>
        <span class="n">target_transform</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">target_transform</span>
        <span class="n">transform</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">transform</span>

        <span class="n">window</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">window</span>
        <span class="n">return_mask</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">return_mask</span>
        <span class="n">mask_transform</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">mask_transform</span>

        <span class="k">if</span> <span class="n">window</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">landmarks</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">padding</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_windowed_item</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">landmarks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">features</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
            <span class="n">target</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">targets</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
            <span class="n">padding</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">if</span> <span class="n">features_transform</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">landmarks</span> <span class="o">=</span> <span class="n">features_transform</span><span class="p">(</span><span class="n">landmarks</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">target_transform</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">target</span> <span class="o">=</span> <span class="n">target_transform</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">transform</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">landmarks</span><span class="p">,</span> <span class="n">target</span> <span class="o">=</span> <span class="n">transform</span><span class="p">(</span><span class="n">landmarks</span><span class="p">,</span> <span class="n">transform</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">return_mask</span><span class="p">:</span>
            <span class="n">mask</span> <span class="o">=</span> <span class="n">create_mask</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">target</span><span class="p">),</span> <span class="n">padding</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">mask_transform</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">mask</span> <span class="o">=</span> <span class="n">mask_transform</span><span class="p">(</span><span class="n">mask</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">landmarks</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">mask</span>

        <span class="k">return</span> <span class="n">landmarks</span><span class="p">,</span> <span class="n">target</span>

    <span class="k">def</span> <span class="nf">_load_features</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">root</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">root</span>
        <span class="n">landmarks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">landmarks</span>
        <span class="n">show_progress</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">show_progress</span>

        <span class="n">landmarks_nb</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">videos</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">landmarks_list</span> <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">landmarks</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Loading landmarks </span><span class="si">{</span><span class="n">landmarks_list</span><span class="si">}</span><span class="s1"> for </span><span class="si">{</span><span class="n">landmarks_nb</span><span class="si">}</span><span class="s1"> videos...&#39;</span><span class="p">)</span>

        <span class="n">progress_bar</span> <span class="o">=</span> <span class="n">tqdm</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">videos</span><span class="o">.</span><span class="n">iterrows</span><span class="p">(),</span>
            <span class="n">total</span><span class="o">=</span><span class="n">landmarks_nb</span><span class="p">,</span>
            <span class="n">disable</span><span class="o">=</span><span class="p">(</span><span class="ow">not</span> <span class="n">show_progress</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">video</span> <span class="ow">in</span> <span class="n">progress_bar</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">features</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">load_landmarks</span><span class="p">(</span><span class="n">video</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="n">landmarks</span><span class="p">))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Landmarks loaded.&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_build_windows</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">window</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">window</span>
        <span class="n">window_size</span><span class="p">,</span> <span class="n">window_stride</span> <span class="o">=</span> <span class="n">window</span>
        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">landmarks</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">features</span><span class="p">):</span>
            <span class="n">landmarks_nb</span> <span class="o">=</span> <span class="n">landmarks</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">start</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">landmarks_nb</span><span class="p">,</span> <span class="n">window_stride</span><span class="p">):</span>
                <span class="n">end</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">landmarks_nb</span><span class="p">,</span> <span class="n">start</span> <span class="o">+</span> <span class="n">window_size</span><span class="p">)</span>
                <span class="n">padding</span> <span class="o">=</span> <span class="n">window_size</span> <span class="o">-</span> <span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">windows</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">index</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">padding</span><span class="p">))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Windows successfully created.&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_get_windowed_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="n">video_index</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">padding</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">windows</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        <span class="n">landmarks</span> <span class="o">=</span> <span class="n">pad_landmarks</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">features</span><span class="p">[</span><span class="n">video_index</span><span class="p">][</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="p">],</span> <span class="n">padding</span><span class="p">)</span>
        <span class="n">target</span> <span class="o">=</span> <span class="n">pad_target</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">targets</span><span class="p">[</span><span class="n">video_index</span><span class="p">][</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="p">],</span> <span class="n">padding</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">landmarks</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">padding</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">











  </div>

  </div>

</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">


<a id="lsfb_dataset.datasets.lsfb_cont.landmarks_generator"></a>
  <div class="doc doc-contents first">

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="lsfb_dataset.datasets.lsfb_cont.landmarks_generator.LSFBContLandmarksGenerator" class="doc doc-heading">
        <code>LSFBContLandmarksGenerator</code>


</h2>


  <div class="doc doc-contents ">
      <p class="doc doc-class-bases">
        Bases: <code><span title="lsfb_dataset.datasets.lsfb_cont.base.LSFBContBase">LSFBContBase</span></code></p>

  
      <p>Utility class to load the LSFB CONT Landmarks dataset.
The dataset must be already downloaded!</p>
<p>All the landmarks and targets are lazy loaded. In consequence, iterate over all the instances is slower
but consumes less memory (RAM).</p>
<p>If you have enough RAM (more than 16GB) and want more efficient iterations,
use the LSFBContLandmarks class instead.</p>

<details class="properties">
  <summary>Properties</summary>
  <p>targets: The list of target segmentations for each instance of the dataset</p>
<p>labels: The targeted labels in the dataset. Example: waiting, signing and coarticulation.
    The labels depend on the targeted segmentation.
label_frequencies: The frequency of each label used in the dataset.
    The labels depend on the targeted segmentation.</p>
<p>windows: List of every window in the dataset
    (instance_index, window_start, window_end, padding)
    This list only contains windows if the <code>window</code> configuration is set!</p>
</details>
  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>config</code></td>
          <td>
          </td>
          <td><p>The configuration object (see LSFBContConfig).
If config is not specified, every needed configuration argument must be manually provided.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>
      <p>Author: ppoitier</p>


        <details class="quote">
          <summary>Source code in <code>lsfb_dataset/datasets/lsfb_cont/landmarks_generator.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  7</span>
<span class="normal">  8</span>
<span class="normal">  9</span>
<span class="normal"> 10</span>
<span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">LSFBContLandmarksGenerator</span><span class="p">(</span><span class="n">LSFBContBase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Utility class to load the LSFB CONT Landmarks dataset.</span>
<span class="sd">    The dataset must be already downloaded!</span>

<span class="sd">    All the landmarks and targets are lazy loaded. In consequence, iterate over all the instances is slower</span>
<span class="sd">    but consumes less memory (RAM).</span>

<span class="sd">    If you have enough RAM (more than 16GB) and want more efficient iterations,</span>
<span class="sd">    use the LSFBContLandmarks class instead.</span>

<span class="sd">    Properties:</span>
<span class="sd">        targets: The list of target segmentations for each instance of the dataset</span>

<span class="sd">        labels: The targeted labels in the dataset. Example: waiting, signing and coarticulation.</span>
<span class="sd">            The labels depend on the targeted segmentation.</span>
<span class="sd">        label_frequencies: The frequency of each label used in the dataset.</span>
<span class="sd">            The labels depend on the targeted segmentation.</span>

<span class="sd">        windows: List of every window in the dataset</span>
<span class="sd">            (instance_index, window_start, window_end, padding)</span>
<span class="sd">            This list only contains windows if the `window` configuration is set!</span>

<span class="sd">    Args:</span>
<span class="sd">        config: The configuration object (see LSFBContConfig).</span>
<span class="sd">            If config is not specified, every needed configuration argument must be manually provided.</span>

<span class="sd">    Author: ppoitier</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">LSFBContLandmarksGenerator</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="c1"># (video_index, window_start, window_end, padding)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">windows</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">window</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_build_windows</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">window</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">videos</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">windows</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="n">features_transform</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">features_transform</span>
        <span class="n">target_transform</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">target_transform</span>
        <span class="n">transform</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">transform</span>

        <span class="n">window</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">window</span>
        <span class="n">return_mask</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">return_mask</span>
        <span class="n">mask_transform</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">mask_transform</span>

        <span class="n">padding</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">if</span> <span class="n">window</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">features</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">padding</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_windowed_item</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">features</span> <span class="o">=</span> <span class="n">load_landmarks</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">videos</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">index</span><span class="p">],</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">root</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">landmarks</span>
            <span class="p">)</span>
            <span class="n">target</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">targets</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">features_transform</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">features</span> <span class="o">=</span> <span class="n">features_transform</span><span class="p">(</span><span class="n">features</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">target_transform</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">target</span> <span class="o">=</span> <span class="n">target_transform</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">transform</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">features</span><span class="p">,</span> <span class="n">target</span> <span class="o">=</span> <span class="n">transform</span><span class="p">(</span><span class="n">features</span><span class="p">,</span> <span class="n">transform</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">return_mask</span><span class="p">:</span>
            <span class="n">mask</span> <span class="o">=</span> <span class="n">create_mask</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">target</span><span class="p">),</span> <span class="n">padding</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">mask_transform</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">mask</span> <span class="o">=</span> <span class="n">mask_transform</span><span class="p">(</span><span class="n">mask</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">features</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">mask</span>

        <span class="k">return</span> <span class="n">features</span><span class="p">,</span> <span class="n">target</span>

    <span class="k">def</span> <span class="nf">_get_windowed_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="n">video_index</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">padding</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">windows</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        <span class="n">features</span> <span class="o">=</span> <span class="n">load_landmarks</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">videos</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">video_index</span><span class="p">],</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">root</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">landmarks</span>
        <span class="p">)</span>
        <span class="n">target</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">targets</span><span class="p">[</span><span class="n">video_index</span><span class="p">]</span>

        <span class="n">landmarks</span> <span class="o">=</span> <span class="n">pad_landmarks</span><span class="p">(</span><span class="n">features</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="p">],</span> <span class="n">padding</span><span class="p">)</span>
        <span class="n">target</span> <span class="o">=</span> <span class="n">pad_target</span><span class="p">(</span><span class="n">target</span><span class="p">[</span><span class="n">start</span><span class="p">:</span><span class="n">end</span><span class="p">],</span> <span class="n">padding</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">landmarks</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">padding</span>

    <span class="k">def</span> <span class="nf">_build_windows</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">window</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">window</span>
        <span class="n">window_size</span><span class="p">,</span> <span class="n">window_stride</span> <span class="o">=</span> <span class="n">window</span>
        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">seq_len</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">videos</span><span class="p">[</span><span class="s1">&#39;frames&#39;</span><span class="p">]):</span>
            <span class="k">for</span> <span class="n">start</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">seq_len</span><span class="p">,</span> <span class="n">window_stride</span><span class="p">):</span>
                <span class="n">end</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">seq_len</span><span class="p">,</span> <span class="n">start</span> <span class="o">+</span> <span class="n">window_size</span><span class="p">)</span>
                <span class="n">padding</span> <span class="o">=</span> <span class="n">window_size</span> <span class="o">-</span> <span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">windows</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">index</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">padding</span><span class="p">))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Windows successfully created.&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">











  </div>

  </div>

</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">


<a id="lsfb_dataset.datasets.lsfb_isol"></a>
  <div class="doc doc-contents first">
  
      <h3 id="lsfb_dataset.datasets.lsfb_isol--lsfb_isol">lsfb_isol</h3>
<p>This module contains classes helping to manipulate the lsfb_isol dataset. The provided classes are :</p>
<ul>
<li><strong>LSFBIsolConfig</strong> : <a href="https://docs.python.org/3/library/dataclasses.html">dataclass</a> allowing to configure
how the dataset will be loaded</li>
<li><strong>LSFBIsolLandmarks</strong> : Iterator class loading the lsfb_isol landmarks according to the configuration provided.</li>
<li><strong>LSFBIsolLandmarksGenerator</strong> : Generator class loading the lsfb_isol landmarks according to the configuration
provided.</li>
</ul>

  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-module">


<a id="lsfb_dataset.datasets.lsfb_isol.config"></a>
  <div class="doc doc-contents first">

  

  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="lsfb_dataset.datasets.lsfb_isol.config.LSFBIsolConfig" class="doc doc-heading">
        <code>LSFBIsolConfig</code>

  
  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-dataclass"><code>dataclass</code></small>
  </span>

</h2>


  <div class="doc doc-contents ">

  
      <p>Simple configuration class for the lsfb_isol Dataset.</p>
<p>lsfb: French Belgian Sign Language
isol: isolated videos in LSFB</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>root</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Root directory of the LSFB_ISOL dataset.
The dataset must already be downloaded.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>landmarks</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<span title="typing.List">List</span>[str]]</code>
          </td>
          <td><p>Select which landmarks (features) to use. Default = ['pose', 'hand_left', 'hand_right'].
'pose' for pose skeleton (23 landmarks);
'hands_left' for left hand skeleton (21 landmarks);
'hands_right' for right hand skeleton (21 landmarks);</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>features_transform</code></td>
          <td>
                <code><span title="typing.Callable">Callable</span></code>
          </td>
          <td><p>Callable object used to transform the features.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>target_transform</code></td>
          <td>
                <code><span title="typing.Callable">Callable</span></code>
          </td>
          <td><p>Callable object used to transform the targets.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>transform</code></td>
          <td>
                <code><span title="typing.Callable">Callable</span></code>
          </td>
          <td><p>Callable object used to transform both the features and the targets.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>mask_transform</code></td>
          <td>
                <code><span title="typing.Callable">Callable</span></code>
          </td>
          <td><p>Callable object used to transform the masks.
You need to set return_mask to true to use this transform.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>lemmes_nb</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>Number of lemme to consider. Default=10</p></td>
          <td>
                <code>10</code>
          </td>
        </tr>
        <tr>
          <td><code>lemme_list_file</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Path to the csv containing the lemmes lists. Default="lemmes.csv"</p></td>
          <td>
                <code>&#39;lemmes.csv&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>videos_list_file</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>Path to the csv containing the video information. Default="clips.csv"</p></td>
          <td>
                <code>&#39;clips.csv&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>split</code></td>
          <td>
                <code><span title="lsfb_dataset.datasets.types.DataSubset">DataSubset</span></code>
          </td>
          <td><p>Select a specific subset of the dataset. Default = 'all'.
'train' for training set;
'test' for the test set;
'all' for all the instances of the dataset;
'mini_sample' for a tiny set of instances.</p></td>
          <td>
                <code>&#39;all&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>sequence_max_length</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>Max length of the clip sequence. Default=50.</p></td>
          <td>
                <code>50</code>
          </td>
        </tr>
        <tr>
          <td><code>padding</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>Pad all sequence to the same length.</p></td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>return_mask</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>Returning padding mask for the sequence.</p></td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>mask_value</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>Value of the masked part of the clips.</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>show_progress</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>If true, show a progress bar while the dataset is loading.</p></td>
          <td>
                <code>True</code>
          </td>
        </tr>
    </tbody>
  </table>
      <p>Author: jfink</p>


        <details class="quote">
          <summary>Source code in <code>lsfb_dataset/datasets/lsfb_isol/config.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">LSFBIsolConfig</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Simple configuration class for the lsfb_isol Dataset.</span>

<span class="sd">    lsfb: French Belgian Sign Language</span>
<span class="sd">    isol: isolated videos in LSFB</span>

<span class="sd">    Args:</span>
<span class="sd">        root: Root directory of the LSFB_ISOL dataset.</span>
<span class="sd">            The dataset must already be downloaded.</span>

<span class="sd">        landmarks: Select which landmarks (features) to use. Default = [&#39;pose&#39;, &#39;hand_left&#39;, &#39;hand_right&#39;].</span>
<span class="sd">            &#39;pose&#39; for pose skeleton (23 landmarks);</span>
<span class="sd">            &#39;hands_left&#39; for left hand skeleton (21 landmarks);</span>
<span class="sd">            &#39;hands_right&#39; for right hand skeleton (21 landmarks);</span>

<span class="sd">        features_transform: Callable object used to transform the features.</span>
<span class="sd">        target_transform: Callable object used to transform the targets.</span>
<span class="sd">        transform: Callable object used to transform both the features and the targets.</span>

<span class="sd">        mask_transform: Callable object used to transform the masks.</span>
<span class="sd">            You need to set return_mask to true to use this transform.</span>

<span class="sd">        lemmes_nb: Number of lemme to consider. Default=10</span>
<span class="sd">        lemme_list_file: Path to the csv containing the lemmes lists. Default=&quot;lemmes.csv&quot;</span>
<span class="sd">        videos_list_file: Path to the csv containing the video information. Default=&quot;clips.csv&quot;</span>

<span class="sd">        split: Select a specific subset of the dataset. Default = &#39;all&#39;.</span>
<span class="sd">            &#39;train&#39; for training set;</span>
<span class="sd">            &#39;test&#39; for the test set;</span>
<span class="sd">            &#39;all&#39; for all the instances of the dataset;</span>
<span class="sd">            &#39;mini_sample&#39; for a tiny set of instances.</span>

<span class="sd">        sequence_max_length: Max length of the clip sequence. Default=50.</span>
<span class="sd">        padding: Pad all sequence to the same length.</span>
<span class="sd">        return_mask: Returning padding mask for the sequence.</span>
<span class="sd">        mask_value: Value of the masked part of the clips.</span>
<span class="sd">        show_progress: If true, show a progress bar while the dataset is loading.</span>


<span class="sd">    Author: jfink</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">root</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">landmarks</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">features_transform</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">target_transform</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">transform</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">mask_transform</span><span class="p">:</span> <span class="n">Callable</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">lemmes_nb</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="n">lemme_list_file</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;lemmes.csv&#39;</span>
    <span class="n">videos_list_file</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;clips.csv&#39;</span>

    <span class="n">split</span><span class="p">:</span> <span class="n">DataSubset</span> <span class="o">=</span> <span class="s1">&#39;all&#39;</span>
    <span class="n">sequence_max_length</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">50</span>

    <span class="n">padding</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">return_mask</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">mask_value</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">show_progress</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">landmarks</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">landmarks</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;pose&#39;</span><span class="p">,</span> <span class="s1">&#39;hand_left&#39;</span><span class="p">,</span> <span class="s1">&#39;hand_right&#39;</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">lemme_list_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">lemme_list_file</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">videos_list_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">videos_list_file</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">videos</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">videos_list_path</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">lemmes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">lemme_list_path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lemmes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lemmes</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="bp">self</span><span class="o">.</span><span class="n">lemmes_nb</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
        </details>

  

  <div class="doc doc-children">











  </div>

  </div>

</div>




  </div>

  </div>

</div>

<div class="doc doc-object doc-module">


<a id="lsfb_dataset.datasets.lsfb_isol.landmarks"></a>
  <div class="doc doc-contents first">

  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-module">


<a id="lsfb_dataset.datasets.lsfb_isol.landmarks_generator"></a>
  <div class="doc doc-contents first">

  

  <div class="doc doc-children">











  </div>

  </div>

</div>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../lsfb_cont/" class="btn btn-neutral float-left" title="LSFB Cont"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../visualisation/" class="btn btn-neutral float-right" title="Visualisation">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../lsfb_cont/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../visualisation/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
